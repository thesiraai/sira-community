# SIRA Community Production Environment Configuration
# Copy this file to .env in the project root and configure with your values

# ============================================
# Application Configuration
# ============================================
COMMUNITY_HOSTNAME=community.sira.ai
COMMUNITY_PORT=3000
COMMUNITY_HTTP_PORT=80
COMMUNITY_HTTPS_PORT=443
COMMUNITY_LOG_LEVEL=info

# ============================================
# Database Configuration
# ============================================
COMMUNITY_DB_NAME=community
COMMUNITY_DB_USER=community
COMMUNITY_DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD
COMMUNITY_DB_POOL=8

# ============================================
# Redis Configuration
# ============================================
COMMUNITY_REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
COMMUNITY_REDIS_DB=0

# ============================================
# Security
# ============================================
# Generate with: ruby -e "require 'securerandom'; puts SecureRandom.hex(64)"
COMMUNITY_SECRET_KEY_BASE=CHANGE_ME_128_CHAR_HEX_STRING

# ============================================
# SMTP/Email Configuration
# ============================================
COMMUNITY_SMTP_ADDRESS=smtp.example.com
COMMUNITY_SMTP_PORT=587
COMMUNITY_SMTP_USER_NAME=your-email@example.com
COMMUNITY_SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
COMMUNITY_SMTP_DOMAIN=example.com
COMMUNITY_SMTP_ENABLE_START_TLS=true

# ============================================
# SIRA Integration (Community -> SIRA API)
# ============================================
SIRA_API_URL=http://api.sira.ai
SIRA_API_KEY=CHANGE_ME_SIRA_API_KEY

# ============================================
# SIRA AI App Integration Variables
# These variables should be used in the SIRA AI app's .env file
# to integrate with this community service
# ============================================
# Service Configuration for SIRA AI App
COMMUNITY_SERVICE_PORT=3005

# Discourse API Configuration for SIRA AI App
DISCOURSE_URL=https://community.sira.ai
DISCOURSE_API_KEY=CHANGE_ME_DISCOURSE_API_KEY
DISCOURSE_API_USERNAME=system
DISCOURSE_SSO_SECRET=CHANGE_ME_SSO_SECRET_32_CHARS_MIN

# Discourse Category IDs (configure as needed)
DISCOURSE_CATEGORY_GENERAL=5
DISCOURSE_CATEGORY_ANNOUNCEMENTS=6
DISCOURSE_CATEGORY_SUPPORT=7
DISCOURSE_CATEGORY_FEEDBACK=8

# Redis Configuration for SIRA AI App Integration
# Note: SIRA app uses REDIS_DB_COMMUNITY=1, Discourse uses COMMUNITY_REDIS_DB=0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB_COMMUNITY=1

# ============================================
# Performance Tuning
# ============================================
COMMUNITY_WORKERS=4
COMMUNITY_SIDEKIQ_CONCURRENCY=5

# ============================================
# Docker Network Configuration
# ============================================
# Set to true if sira-network already exists
SIRA_NETWORK_EXTERNAL=false

